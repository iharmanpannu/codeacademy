{"dependencies":[],"generated":{"js":"// Foursquare API Info\nconst clientId = \"2LDV0QRMVCZACZSSVB0EASNEJ0UNEK2WSNFLPXY3F01XZV0G\";\nconst clientSecret = \"HWT5ZPNCSAEXCS1MSZUGSYXMCKUXWC2UAHLDXUXJMGSDSEYD\";\nconst url = \"https://api.foursquare.com/v2/venues/explore?near=\";\nconst imgPrefix = \"https://igx.4sqi.net/img/general/150x200\";\n\n// APIXU Info\nconst apiKey = \"1f98496b77fb4a218d791620172412\";\nconst forecastUrl = 'https://api.apixu.com/v1/forecast.json?key=';\n\n// Page Elements\nconst $input = $(\"#city\");\nconst $submit = $(\"#button\");\nconst $destination = $(\"#destination\");\nconst $container = $(\".container\");\nconst $venueDivs = [$(\"#venue1\"), $(\"#venue2\"), $(\"#venue3\"), $(\"#venue4\")];\nconst $weatherDivs = [\n  $(\"#weather1\"),\n  $(\"#weather2\"),\n  $(\"#weather3\"),\n  $(\"#weather4\")\n];\nconst weekDays = [\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\",\n  \"Sunday\"\n];\n\n// AJAX functions\n\nasync function getVenues() {\n  const city = $input.val();\n  const urlToFetch =\n    url +\n    city +\n    \"&venuePhotos=1&limit=10&client_id=\" +\n    clientId +\n    \"&client_secret=\" +\n    clientSecret +\n    \"&v=20170305\";\n\n  try {\n    let response = await fetch(urlToFetch);\n    if (response.ok) {\n      let jsonResponse = await response.json();\n      console.log(jsonResponse);\n      let venues = jsonResponse.response.groups[0].items.map(\n        location => location.venue\n      );\n      console.log(venues);\n      return venues;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n} // getVenues end\n\nasync function getForecast() {\n  const urlToFetch =\n    forecastUrl + apiKey + \"&q=\" + $input.val() + \"&days=5&hour=11\";\n  try {\n    let response = await fetch(urlToFetch);\n    if (response.ok) {\n      let jsonResponse = await response.json();\n      console.log(jsonResponse);\n      let days = jsonResponse.forecast.forecastday;\n      return days;\n    }\n  } catch (error) {}\n}\n\n// Render functions\nfunction renderVenues(venues) {\n  $venueDivs.forEach(($venue, index) => {\n    let venueContent =\n      \"<h2>\" +\n      venues[index].name +\n      \"</h2>\" +\n      '<img class=\"venueimage\" src=\"' +\n      imgPrefix +\n      venues[index].photos.groups[0].items[0].suffix +\n      '\"/>' +\n      \"<h3>Address:</h3>\" +\n      \"<p>\" +\n      venues[index].location.address +\n      \"</p>\" +\n      \"<p>\" +\n      venues[index].location.city +\n      \"</p>\" +\n      \"<p>\" +\n      venues[index].location.country +\n      \"</p>\";\n    $venue.append(venueContent);\n  });\n  $destination.append(\"<h2>\" + venues[0].location.city + \"</h2>\");\n}\n\nfunction renderForecast(days) {\n  $weatherDivs.forEach(($day, index) => {\n    let weatherContent =\n      \"<h2> High: \" +\n      days[index].day.maxtemp_f +\n      \"</h2>\" +\n      \"<h2> Low: \" +\n      days[index].day.mintemp_f +\n      \"</h2>\" +\n      '<img src=\"http://' +\n      days[index].hour[0].condition.icon +\n      '\" class=\"weathericon\" />' +\n      \"<h2>\" +\n      weekDays[(new Date(days[index].date)).getDay()] +\n      \"</h2>\";\n    $day.append(weatherContent);\n  });\n}\n\nfunction executeSearch() {\n  $venueDivs.forEach(venue => venue.empty());\n  $weatherDivs.forEach(day => day.empty());\n  $destination.empty();\n  $container.css(\"visibility\", \"visible\");\n  getVenues();\n  getForecast();\n  return false;\n}\n\n$submit.click(executeSearch);\n"},"hash":"a762181f476435dc6bc270ab4ebbf3c9"}